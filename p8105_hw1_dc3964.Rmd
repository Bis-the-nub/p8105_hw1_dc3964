---
title: "hw1"
author: "Rene Chi"
date: "2025-09-13"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Problem 1

Loading needed packages
```{r, message = FALSE}
library(moderndive)
library(ggplot2)
library(tidyverse)
```

Importing data
```{r}
data("early_january_weather")
```
Description acquired via `help("early_january_weather")`  

The dataset is a hourly meteorological data for LGA, JFK and EWR for the month of January 2013. It contains variables include `year`, `month`, `day`, `hour`, `origin` (Weather stations), `temp` (temperature in F), `dewp` (dew point in F), `humid` (relative humidity), `wind_dir` (wind direction in degrees), `wind_speed`(in mph), `wind_gust`(in mph), `precip` (precipitation in inches), `pressure` (sea level pressure in millibars), `visib` (visibility in miles), and `time_hour` (Date and hour of the recording as a POSIXct date). 

This dataset has `r nrow(early_january_weather)` rows and `r ncol(early_january_weather)` columns. The mean temperature during this period is `r mean(early_january_weather$temp, na.rm = TRUE)` degrees Fahrenheit.

Plotting a scatterplot between temp(y) and time_hour(x)
```{r, results='hide'}
#plotting scatter plot 
Sys.setlocale("LC_TIME", "C") # transform date from Mandarin into English
ggplot(early_january_weather, 
       aes(x = time_hour, 
           y = temp, 
           color = humid)) +
       geom_point(alpha = 0.5) 
# Save plot
ggsave("early_january_weather.png", width = 8, height = 5, dpi = 300)
```
In the scatterplot, it is apparent that before January 11st, in most days the relative humidity were below 60. Roughly between January 11st and 15th, both relative humidity and temperature were steadily rising, while temperature plunged after Jan 15th.

## Problem 2
```{r, message = FALSE}
set.seed(123)  # reproducibility

# build tibble
tb <- tibble(
  sample = rnorm(10),
  positive = sample > 0,
  chr_10 = c("This","class","is","important",
            "for","my","future","studying","in","biostatistics"),
  factor_level = factor(rep(c("A", "B", "C"), length.out = 10))
)

# attempting to calculate average
tb %>% pull(sample) %>% mean()
tb %>% pull(positive) %>% mean()
tb %>% pull(chr_10) %>% mean()
tb %>% pull(factor_level) %>% mean()
```
Only the first two variables 'sample' and 'positive' works, the latter two variables returned NA value.
```{r, results = 'hide', warning = FALSE}
# apply as.numeric() to logical, character, and factor variables
as.numeric(tb$sample)
as.numeric(tb$positive)
as.numeric(tb$chr_10)
as.numeric(tb$factor_level)
```
When as.numeric() is applied, logical values are converted to 1 and 0, so taking the mean works and gives the proportion of TRUE values, this can also be applied when using mean(). Character vectors cannot be converted to numbers, so as.numeric() returns NA and produces a warning, which is why mean() fails.   
Factor vectors are converted to their internal integer when using as.numeric(), allowing R to calculate its mean (although it is meaningless). However, when computing directly with mean(), it will return as NA since mean() will not convert the factor vectors.
